/* Page transition animations with Swup */
/* 简化的页面过渡动画，移除过渡页效果 */
html.is-changing .transition-swup-fade {
    @apply transition-all duration-100 ease-in-out
}
html.is-animating .transition-swup-fade {
    @apply opacity-0
}

/* Fade-in animations for components */
@keyframes fade-in-up {
    0% {
        transform: translateY(2rem);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes fade-in-down {
    0% {
        transform: translateY(-2rem);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes fade-in-left {
    0% {
        transform: translateX(-2rem);
        opacity: 0;
    }
    100% {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes fade-in-right {
    0% {
        transform: translateX(2rem);
        opacity: 0;
    }
    100% {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes zoom-in {
    0% {
        transform: scale(0.95);
        opacity: 0;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes slide-up {
    0% {
        transform: translateY(3rem);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes fade-in-avatar {
    0% {
        opacity: 0;
        transform: scale(0.85);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes bounce-in {
    0%, 20%, 53%, 80%, 100% {
        animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
        transform: translate3d(0, 0, 0);
    }
    40%, 43% {
        animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        transform: translate3d(0, -1rem, 0);
    }
    70% {
        animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
        transform: translate3d(0, -0.5rem, 0);
    }
    90% {
        transform: translate3d(0, -0.125rem, 0);
    }
    0% {
        opacity: 0;
        transform: scale(0.9);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

/* Smooth reveal animation */
@keyframes smooth-reveal {
    0% {
        clip-path: inset(0 100% 0 0);
        opacity: 0;
    }
    100% {
        clip-path: inset(0 0 0 0);
        opacity: 1;
    }
}

/* Main components */
.onload-animation,
.animate-fade-in-up {
    opacity: 0;
    animation: 400ms fade-in-up;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-fade-in-down {
    opacity: 0;
    animation: 400ms fade-in-down;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-fade-in-left {
    opacity: 0;
    animation: 400ms fade-in-left;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-fade-in-right {
    opacity: 0;
    animation: 400ms fade-in-right;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-zoom-in {
    opacity: 0;
    animation: 400ms zoom-in;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-slide-up {
    opacity: 0;
    animation: 400ms slide-up;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-bounce-in {
    opacity: 0;
    animation: 600ms bounce-in;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
}

.animate-fade-in-avatar {
    opacity: 0;
    animation: 800ms fade-in-avatar;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
}

.animate-smooth-reveal {
    opacity: 0;
    animation: 600ms smooth-reveal;
    animation-fill-mode: forwards;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.onload-animation.fade-in-down {
    animation-name: fade-in-down;
}

.onload-animation.fade-in-left {
    animation-name: fade-in-left;
}

.onload-animation.fade-in-right {
    animation-name: fade-in-right;
}

.onload-animation.zoom-in {
    animation-name: zoom-in;
}

.onload-animation.slide-up {
    animation-name: slide-up;
}

.onload-animation.bounce-in {
    animation-name: bounce-in;
    animation-duration: 600ms;
}

.onload-animation.fade-in-avatar {
    animation-name: fade-in-avatar;
    animation-duration: 800ms;
}

.onload-animation.smooth-reveal {
    animation-name: smooth-reveal;
    animation-duration: 600ms;
}

#navbar {
    animation-delay: 0ms
}
#sidebar {
    animation-delay: 100ms
}
#swup-container {
    outline: none;
}
#content-wrapper {
    animation-delay: var(--content-delay);
}
.footer {
    animation-delay: 250ms;
}
#banner-credit {
    animation-delay: 400ms;
}

/* Post content */
#post-container :nth-child(1) { animation-delay: calc(var(--content-delay) + 0ms) }
#post-container :nth-child(2) { animation-delay: calc(var(--content-delay) + 50ms) }
#post-container :nth-child(3) { animation-delay: calc(var(--content-delay) + 100ms) }
#post-container :nth-child(4) { animation-delay: calc(var(--content-delay) + 150ms) }
#post-container :nth-child(5) { animation-delay: calc(var(--content-delay) + 200ms) }
#post-container :nth-child(6) { animation-delay: calc(var(--content-delay) + 250ms) }


/* Mobile optimizations */
@media (max-width: 768px) {
    html.is-changing .transition-swup-fade {
        @apply duration-300
    }
    html.is-changing .transition-swup-slide {
        @apply duration-300
    }
    html.is-changing .transition-swup-zoom {
        @apply duration-300
    }
    
    .onload-animation,
    .animate-fade-in-up {
        animation-duration: 300ms;
    }
    
    .animate-fade-in-down,
    .animate-fade-in-left,
    .animate-fade-in-right {
        animation-duration: 300ms;
    }
    
    .animate-zoom-in,
    .animate-slide-up {
        animation-duration: 350ms;
    }
    
    .animate-bounce-in {
        animation-duration: 450ms;
    }
    
    .animate-fade-in-avatar {
        animation-duration: 600ms;
    }
    
    .animate-smooth-reveal {
        animation-duration: 450ms;
    }
    
    /* Reduce animation delays on mobile */
    #sidebar {
        animation-delay: 50ms
    }
    .footer {
        animation-delay: 150ms;
    }
    #banner-credit {
        animation-delay: 250ms;
    }
    
    #post-container :nth-child(1) { animation-delay: calc(var(--content-delay) + 0ms) }
    #post-container :nth-child(2) { animation-delay: calc(var(--content-delay) + 30ms) }
    #post-container :nth-child(3) { animation-delay: calc(var(--content-delay) + 60ms) }
    #post-container :nth-child(4) { animation-delay: calc(var(--content-delay) + 90ms) }
    #post-container :nth-child(5) { animation-delay: calc(var(--content-delay) + 120ms) }
    #post-container :nth-child(6) { animation-delay: calc(var(--content-delay) + 150ms) }
}


/* Prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
    html.is-changing .transition-swup-fade,
    html.is-changing .transition-swup-slide,
    html.is-changing .transition-swup-zoom,
    html.is-changing .transition-swup-overlay {
        @apply duration-75
    }
    
    .onload-animation,
    .animate-fade-in-up,
    .animate-fade-in-down,
    .animate-fade-in-left,
    .animate-fade-in-right,
    .animate-zoom-in,
    .animate-slide-up,
    .animate-bounce-in,
    .animate-fade-in-avatar,
    .animate-smooth-reveal {
        animation-duration: 100ms;
    }
}

